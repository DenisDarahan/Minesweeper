#:set ZERO (0, 0, 0, 0)
#:set ONE (0, 0, 0.96, 1)
#:set TWO (0.22, 0.49, 0.13, 1)
#:set THREE (0.92, 0.2, 0.14, 1)
#:set FOUR (0, 0, 0.48, 1)
#:set FIVE (0.41, 0.07, 0.04, 1)
#:set SIX (0.21, 0.47, 0.48, 1)
#:set SEVEN (0, 0, 0, 1)
#:set EIGHT (0.51, 0.51, 0.51, 1)
#:set NUMBER_COLOR_LIST [ZERO, ONE, TWO, THREE, FOUR, FIVE, SIX, SEVEN, EIGHT]


<CellButton>:
    flag: 0

    canvas.before:
        Color:
            rgba: 0, 0, 0, self.flag
        Line:
            width: self.round_radius
            points:
                self.x + self.width / 2 + self.round_radius, self.y + self.height / 2 + self.radius_distance, \
                self.x + self.width / 2 + self.round_radius, self.y + 0.2 * self.height + self.round_radius
        Line:
            cap: 'none'
            width: self.round_radius
            points:
                self.x + 0.25 * self.width, self.y + 0.2 * self.height + self.round_radius, \
                self.x + 0.75 * self.width, self.y + 0.2 * self.height + self.round_radius
        Line:
            cap: 'none'
            width: self.round_radius
            points:
                self.x + 0.3 * self.width, self.y + 0.2 * self.height + 2 * self.round_radius, \
                self.x + 0.7 * self.width, self.y + 0.2 * self.height + 2 * self.round_radius
        Color:
            rgba: 1, 0, 0, self.flag
        Triangle:
            points:
                self.x + self.width / 2 + 2 * self.round_radius, self.y + self.height / 2, \
                self.x + self.width / 2 + 2 * self.round_radius, self.y + 0.8 * self.height, \
                self.x + 0.2 * self.width, self.y + 0.65 * self.height

    size: '25dp', '25dp'

    on_long_press: self.change_flag_long_press()
    on_release: self.open()

    font_name: 'fonts/prstart'
    font_size: '18sp'
    color: NUMBER_COLOR_LIST[self.cell.value] if self.text else NUMBER_COLOR_LIST[0]
    text: ''
